(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-teacher-index"],{"2f32":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".content[data-v-2432036c]{width:%?750?%;height:100vh;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.content .flex-swiper-top[data-v-2432036c]{position:relative;-webkit-transition:height .6s;transition:height .6s}.content .flex-swiper-top .swiper-style[data-v-2432036c]{position:relative;width:100%;height:100%}.content .flex-swiper-top .swiper-style uni-swiper-item[data-v-2432036c]{background-color:#333}.content .flex-swiper-top .swiper-style .swiper-img[data-v-2432036c]{width:100%;height:100%}.content .flex-swiper-top .swiper-stick-box[data-v-2432036c]{height:%?86?%;width:100%;position:absolute;left:0;top:%?308?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.content .flex-swiper-top .swiper-stick-box .count-down[data-v-2432036c]{height:%?32?%;line-height:%?32?%;color:#fff;background-color:rgba(0,0,0,.5);-webkit-border-radius:%?50?%;border-radius:%?50?%;padding:0 %?15?%;font-size:%?16?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.content .flex-swiper-top .swiper-stick-box .swiper-index-box[data-v-2432036c]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.content .flex-swiper-top .swiper-stick-box .swiper-index-box .swiper-index[data-v-2432036c]{color:#fff;background-color:rgba(0,0,0,.5);height:%?42?%;width:%?70?%;line-height:%?42?%;text-align:center;letter-spacing:%?6?%;margin-top:%?15?%}.content .flex-swiper-top .no-file[data-v-2432036c]{position:absolute;top:0;left:0;width:100%;height:100%;padding-top:%?170?%;text-align:center;font:700 %?40?%/100% 微软雅黑,Lucida Grande,Lucida Sans,Helvetica,Arial,Sans;color:#fff;text-transform:uppercase}.content .flex-swiper-top .no-file uni-text[data-v-2432036c]{color:#fff;text-shadow:1px 1px rgba(197,223,248,.8),2px 2px rgba(197,223,248,.8),3px 3px rgba(197,223,248,.8),4px 4px rgba(197,223,248,.8),5px 5px rgba(197,223,248,.8),6px 6px rgba(197,223,248,.8)}.content .flex-chat-bottom[data-v-2432036c]{background-color:#f0f1f2}.content .transition-swiper-hidden[data-v-2432036c]{height:0}.content .transition-swiper-show[data-v-2432036c]{height:%?420?%}.content .chat-box-height-small[data-v-2432036c]{height:calc(100vh - %?420?%)}.content .chat-box-height-big[data-v-2432036c]{height:100vh}",""]),e.exports=t},"3a4f":function(e,t,i){"use strict";i.r(t);var n=i("4624"),a=i("3e48");for(var r in a)"default"!==r&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("6f23");var o,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"2432036c",null,!1,n["a"],o);t["default"]=c.exports},"3e48":function(e,t,i){"use strict";i.r(t);var n=i("d40f"),a=i.n(n);for(var r in n)"default"!==r&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},4624:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return n}));var n={uniCountdown:i("5adc").default},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"flex-swiper-top",class:[e.swiperHidden?"transition-swiper-hidden":"transition-swiper-show"]},[i("v-uni-swiper",{staticClass:"swiper-style",attrs:{circular:!0},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.handleSwiperChange.apply(void 0,arguments)}}},e._l(e.swiperData,(function(e,t){return i("v-uni-swiper-item",{key:t},[i("v-uni-image",{staticClass:"swiper-img",attrs:{src:e.path,mode:"aspectFit"}})],1)})),1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!e.swiperHidden_,expression:"!swiperHidden_"}],staticClass:"swiper-stick-box"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:3==e.LIVING,expression:"LIVING == 3"}],staticClass:"count-down"},[i("v-uni-view",[e._v("直播倒计时：")]),i("uni-countdown",{attrs:{"show-day":!1,hour:1,minute:12,second:40,color:"#fff","background-color":"rgba(0,0,0,0)",splitorColor:"#fff","show-colon":!1},on:{timeup:function(t){arguments[0]=t=e.$handleEvent(t),e.handleTimeUp.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"swiper-index-box"},[i("v-uni-view",{staticClass:"swiper-index"},[e._v(e._s(e.currentIndex)+"/"+e._s(e.swiperData.length))])],1)],1),e.swiperData.length?e._e():i("v-uni-view",{staticClass:"no-file",style:{"background-color":e.swiperHidden?"#F0F1F2":"#ddddde"}},[i("v-uni-text",[e._v("no ppt courseware")])],1)],1),i("v-uni-view",{staticClass:"flex-chat-bottom",class:[e.swiperHidden?"chat-box-height-big":"chat-box-height-small"]},[e.userInfo.userSig?i("uniTimChat",{ref:"uniTimChat",attrs:{clientType:"teacher",userInfo:e.userInfo},on:{chatViewportChange:function(t){arguments[0]=t=e.$handleEvent(t),e.chatViewportChange.apply(void 0,arguments)},"update:userInfo":function(t){arguments[0]=t=e.$handleEvent(t),e.userInfo=t},"update:user-info":function(t){arguments[0]=t=e.$handleEvent(t),e.userInfo=t}}}):e._e()],1)],1)},r=[]},"588a":function(e,t,i){var n=i("2f32");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("2b66a43e",n,!0,{sourceMap:!1,shadowMode:!1})},"6f23":function(e,t,i){"use strict";var n=i("588a"),a=i.n(n);a.a},d40f:function(e,t,i){"use strict";var n=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("96cf");var a=n(i("1da1")),r=n(i("5530")),o=i("2f62"),s=n(i("5adc")),c=n(i("2b2b")),d=i("449a"),l=i("a21b"),u={components:{uniCountdown:s.default,uniTimChat:c.default},data:function(){return{currentTimestamp:0,userInfo:{sdkAppId:"",roomId:"",lessonId:"",memberId:"",nickname:"",identity:"teacher",userSig:"",avatar:"",shutUpAllMember:"",memberNum:""},swiperHidden:!1,swiperHidden_:!1,currentIndex:1,swiperData:[]}},computed:(0,r.default)({},(0,o.mapState)(["LIVING"])),created:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=uni.getStorageSync("code"),i){t.next=3;break}return t.abrupt("return",uni.showModal({title:"警告",showCancel:!1,content:"未检测到code，请检查访问路径无误后重新尝试进入直播间！"}));case 3:return e.currentTimestamp=(new Date).getTime(),t.next=6,d.login.loginTeacher({code:i}).then((function(t){var i=t.data;e.SET_LIVING=i.liveStatus,e.swiperData=i.pptImages,i.liveStartTime&&i.liveStatus,e.userInfo["sdkAppId"]=i.sdkAppId,e.userInfo["avatar"]=i.avator,e.userInfo["roomId"]=String(i.roomId),e.userInfo["userSig"]=i.userSig,e.userInfo["memberId"]=i.memberId,e.userInfo["nickname"]=i.nickname,e.userInfo["lessonId"]=i.id,e.userInfo["shutUpAllMember"]=i.shutUpAllMember,e.userInfo["memberNum"]=i.memberNum}));case 6:e.$refs.uniTimChat.setImgFile(e.swiperData);case 7:case"end":return t.stop()}}),t)})))()},methods:(0,r.default)((0,r.default)({},(0,o.mapMutations)(["SET_LIVING"])),{},{handleSwiperChange:function(e){var t=e.detail.current;this.currentIndex=t+1;var i={description:"switchSwiper",index:t};(0,l.sendCustomMessage)("group",i)},handleTimeUp:function(){console.log("倒计时时间到触发事件")},chatViewportChange:function(e){var t=this;this.swiperHidden=e,e?this.swiperHidden_=e:setTimeout((function(){t.swiperHidden_=e}),500)},updateImgFile:function(e){this.swiperData=e}})};t.default=u}}]);